<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- DO NOT EDIT: file automatically generated by ucampas. -->
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><head><meta content="text/html; charset=UTF-8" http-equiv="Content-Type" /><meta content="text/css" http-equiv="Content-Style-Type" /><title>Computer Laboratory &#8211; OCaml Labs: Illuminate</title><link href="http://www.cl.cam.ac.uk/style/layout.css" media="all" rel="stylesheet" type="text/css" /><link href="http://www.cl.cam.ac.uk/style/print.css" media="print" rel="stylesheet" type="text/css" /><link href="http://www.cl.cam.ac.uk/style/blue.css" media="all" rel="stylesheet" type="text/css" /><!--[if IE 6]><link rel="stylesheet" href="http://www.cl.cam.ac.uk/style/ie6.css" type="text/css" media="screen" /><script type="text/javascript" src="http://www.cam.ac.uk/global/js/minmax.js"></script><![endif]--><!--[if IE 7]><link rel="stylesheet" href="http://www.cl.cam.ac.uk/style/ie7.css" type="text/css" media="screen" /><![endif]--><style>    a.icon-github {
	background: url(../github.png) no-repeat 0 0;
	padding: 0 0 2px 2em;
    }
    a.icon-cloud {
	background: url(../cloud.png) no-repeat 0 0;
        background-size: 17px;
	padding: 0 0 2px 2em;
    }
    a.icon-bullhorn {
	background: url(../bullhorn.png) no-repeat 0 0;
        background-size: 17px;
	padding: 0 0 2px 2em;
    }
    a.icon-wrench {
	background: url(../wrench.png) no-repeat 0 0;
        background-size: 17px;
	padding: 0 0 2px 2em;
    }
    </style><link href="compiler.html" rel="Next" /><link href="index.html" rel="Up" /></head>
<body class="two-col dept">
<div id="skip"> <a accesskey="2" href="#skip-content">Skip to content</a>&#160;|&#160;<a accesskey="0" href="http://www.cam.ac.uk/site/accesskeys.html">Access key help</a> </div><div id="header">  <div id="branding"><a accesskey="1" href="http://www.cam.ac.uk/"><img alt="University of Cambridge" class="ucam" src="http://www.cl.cam.ac.uk/images/identifier.gif" /></a>
  </div>

    <div id="site-search">
    <form action="http://www.google.co.uk/search" method="get">      <fieldset>      <label for="search-term">Search</label>
      <input accesskey="4" id="search-term" name="q" type="text" value="" />      <input alt="Search" id="search-button" src="http://www.cl.cam.ac.uk/images/button-search.gif" title="Search" type="image" value="Search" />
      

      <input name="domains" type="hidden" value="cam.ac.uk;www.cl.cam.ac.uk" /><input name="sitesearch" type="hidden" value="www.cl.cam.ac.uk" /></fieldset>
    </form>

  <ul><li class="last"><a href="http://www.cl.cam.ac.uk/search/">Advanced search</a></li><li><a href="http://www.cl.cam.ac.uk/az/">A&#8211;Z</a></li><li><a href="http://www.cl.cam.ac.uk/contact/">Contact us</a></li></ul>
  </div>
</div>

<div id="dept-title"><h1><a href="../index.html">Computer Laboratory</a></h1>
</div>

<div id="container"> <a id="skip-content" name="skip-content"></a>
<ul id="nav-breadcrumb"><li class="first"><a href="http://www.cam.ac.uk/">University of Cambridge</a></li><li><a href="http://www.cl.cam.ac.uk/">Computer Laboratory</a></li><li><a href="../index.html">OCaml Labs</a></li><li><a href="index.html">Projects</a></li><li><a href="illuminate.html">Illuminate</a></li></ul><ul id="nav-primary"><li><div><a href="../index.html">OCaml Labs</a></div></li><li><div><a href="../news/index.html">News</a></div></li><li><div><a href="../blogs/index.html">Blogs</a></div></li><li class="active"><div><a href="index.html">Projects</a></div></li><li><div><a href="../papers/index.html">Papers</a></div></li><li><div><a href="../pkg/index.html">Software</a></div></li><li><div><a href="../people/index.html">People</a></div></li><li><div><a href="../collaboration.html">Collaboration</a></div></li><li><div><a href="../contact.html">Contact Us</a></div></li></ul><div id="content"><div id="sub-brand"><p class="section">OCaml Labs</p></div><div id="content-primary">    <div class="ucampas-toc right"><table><tbody><tr><td><p>Contents</p><ul><li><a href="#illuminate">Illuminate</a><ul><li><a href="#Team">Team</a></li><li><a href="#Tasks">Tasks</a><ul><li><a href="#Signpost prototype">Signpost prototype</a></li><li><a href="#Declarative graphing library">Declarative graphing library</a></li><li><a href="#Raspberry OCaml">Raspberry OCaml</a></li></ul></li></ul></li></ul></td></tr></tbody></table></div>
    
    
            <style type="text/css">            table { 
            table-layout: fixed;
            border-spacing: 0px 2px;
            }
            .blank { background-color: #fefefe; }
            .planning { background-color: #bbccee; }
            .doing { background-color: #eeeebb; }
            .complete { background-color: #bbddbb; }
            img.mugshot { float:left; padding-right: 5px; }
            tr.dates {
            font-size: 0.75em;
            background-color: #dfdfdf;
            color: #111111;
            }
            </style>
          
    <h1 id="illuminate">Illuminate</h1>
    <div class="width:75%"><p><a href="http://#"><img class="left" src="../images/illuminate.gif" width="70px" /></a>Embedded computer systems that are low-power, physically mobile, 
and which contain actuators and sensors to interface and influence the "real 
world" are becoming increasingly common.<br />Many people are referring to this collectively as the "Internet of Things".
We're building the core technology to make these distributed devices fundamentally more secure, reliable and easier to program.
This consists of three main bits of technology:</p>
<ul><li>The Mirage OS (described separately) to build specialised, type-safe embedded images.</li><li>The Signposts coordination system for embedded devices to find each other securely across a complex edge network.</li><li>The Irminsule (described in T2) persistent storage system to provide a flexible coordination workflow across such sensors.</li></ul>

<p>A key first use case for here is revolutionising lighting systems.  Over the
next decade or so, lighting systems in buildings all over the world will shift
to using more energy efficient LEDs in place of traditional tungsten bulbs or
fluorescent tubes. As well as the important reduction in energy usage, this
transition opens up unprecedented opportunities for both lighting circuit
design and embedded systems.</p>
<p>Due to the nature of LEDs, it's feasible to consider deploying ubiquitous
sensor networks alongside the LED lighting in a building. Since issues of power
and communication are straightforward to tackle, such a network would allow
completely new types of applications and services to be developed. In addition,
there would also be a dramatic impact on the relationship between people and
the building.</p>
<p>We're creating this platform to allow others to build technology and services
based on such distributed networks. Such a platform tackles the questions
surrounding security, reliability, and accountability while working with
industry to enable new services.</p>
</div>
    <h2 id="Team">Team</h2>
    <p><a href="../people/amirmc.html"><img class="inline" height="50px" src="../mugshots/amir.jpg" style="" /></a><a href="../people/avsm.html"><img class="inline" height="50px" src="../mugshots/avsm.jpg" style="" /></a><a href="../people/crowcroft.html"><img class="inline" height="50px" src="../mugshots/crowcroft.gif" style="" /></a><a href="../people/dbunzli.html"><img class="inline" height="50px" src="../mugshots/dbuenzli.jpg" style="" /></a><a href="../people/heidi.html"><img class="inline" height="50px" src="../mugshots/heidi.jpg" style="" /></a><a href="../people/iml.html"><img class="inline" height="50px" src="../mugshots/iml.jpg" style="" /></a><a href="../people/pwang.html"><img class="inline" height="50px" src="../mugshots/pwang.jpg" style="" /></a><a href="../people/sheets.html"><img class="inline" height="50px" src="../mugshots/sheets.png" style="" /></a></p>
    <h2 id="Tasks">Tasks</h2>
    <table class="projects" width="95%">    <tbody><tr class="dates"><td>Sep '12</td><td>Oct '12</td><td>Nov '12</td><td>Dec '12</td><td>Jan '13</td><td>Feb '13</td><td>Mar '13</td><td>Apr '13</td><td>May '13</td><td>Jun '13</td><td>Jul '13</td><td>Aug '13</td><td>Sep '13</td><td>Oct '13</td><td>Nov '13</td><td>Dec '13</td><td>Jan '14</td><td>Feb '14</td><td>Mar '14</td><td>Apr '14</td><td>&#8734;</td></tr>
     <tr>  <td class="complete" colspan="10">               <a href="http://etc-hosts.blogspot.co.uk"><img alt="Heidi Howard" class="mugshot" height="30px" src="../mugshots/heidi.jpg" /></a>
               <a href="#Signpost prototype">Signpost prototype</a><br />             </td> <td class="blank" colspan="10"></td> <td></td> </tr>  <tr> <td class="blank" colspan="8"></td> <td class="complete" colspan="3">               <a href="http://erratique.ch"><img alt="Daniel B&#252;nzli" class="mugshot" height="30px" src="../mugshots/dbuenzli.jpg" /></a>
               <a href="#Declarative graphing library">Declarative graphing library</a><br />             </td> <td class="blank" colspan="9"></td> <td></td> </tr>  <tr> <td class="blank" colspan="3"></td> <td class="complete" colspan="3">               <a href="http://anil.recoil.org"><img alt="Anil Madhavapeddy" class="mugshot" height="30px" src="../mugshots/avsm.jpg" /></a>
               <a href="#Raspberry OCaml">Raspberry OCaml</a><br />             </td> <td class="blank" colspan="14"></td> <td></td> </tr> 
    <tr><td colspan="21">&#160;</td></tr>
    </tbody></table>
  
    
         <div style="width:75%">         <h3 id="Signpost prototype" style="border-bottom: thin solid #999999;">Signpost prototype</h3>
         <p><a href="../people/heidi.html"><img class="inline" height="40px" src="../mugshots/heidi.jpg" style="float:left; padding-right: 30px" /></a>  <span class="complete">Complete</span> by <a href="../people/heidi.html">Heidi Howard</a> (Aug 2012 - Jun 2013) <br /><a class="icon-pdf" href="../papers/index.html#foci-2013-signposts">USENIX FOCI 2013</a> &#160; </p>
          
         <br /></div>
      
         <div style="width:75%">         <h3 id="Declarative graphing library" style="border-bottom: thin solid #999999;">Declarative graphing library</h3>
         <p><a href="../people/dbunzli.html"><img class="inline" height="40px" src="../mugshots/dbuenzli.jpg" style="float:left; padding-right: 30px" /></a>  <span class="complete">Complete</span> by <a href="../people/dbunzli.html">Daniel B&#252;nzli</a> (Apr 2013 - Jul 2013) <br /><a class="icon-cloud" href="http://erratique.ch/software/gg">Gg library</a> &#160; <a class="icon-cloud" href="http://erratique.ch/software/vg">Vg library</a> &#160; </p>
         <p><code>Vg</code> is a declarative 2D vector graphics library for OCaml. It's a
baseline library with multiple output backends like PDF, SVG or the
HTML5 Canvas element. This project aims to build a "Tufte principled"
2D visualization library with some simple graphing widgets for data
visualisation.  In the longer term, the intention is to build a
declarative UI framework also.</p>

         <h4><em>Related work</em></h4>
          <ul><li><a href="illuminate.html#Real-time templating">Real-time templating</a></li></ul><br /></div>
      
         <div style="width:75%">         <h3 id="Raspberry OCaml" style="border-bottom: thin solid #999999;">Raspberry OCaml</h3>
         <p><a href="../people/avsm.html"><img class="inline" height="40px" src="../mugshots/avsm.jpg" style="float:left; padding-right: 30px" /></a>  <span class="complete">Complete</span> by <a href="../people/avsm.html">Anil Madhavapeddy</a> (Nov 2012 - Feb 2013) <br /><a href="http://caml.inria.fr/mantis/view.php?id=5798">Bug report</a> &#160; <a class="icon-cloud" href="https://ocaml.janestreet.com/?q=node/110">Jane Street blog</a> &#160; </p>
         <p>The <a href="http://www.cl.cam.ac.uk/~rdm34/raspi/">Raspberry Pi</a> has an ARMv6 processor, and there are two main distributions available. 
Debian wheezy is compiled with <i>soft float</i> (which emulates floating point) and is fairly compatible with most software.
The <a href="http://raspbian.org">Raspbian</a> distribution is recompiled to take advantage of <i>hard float</i>, which is faster but requires a new set of binary packages.</p>
<p><em>Soft-float Debian</em>: If you use soft-float Debian, there is a nice guide available on the <a href="https://ocaml.janestreet.com/?q=node/110">Jane Street OCaml blog</a> blog on how to bootstrap the native code OCaml compiler on it.
The standard binary packages included with Debian will also work fine.</p>
<p><em>Hard-float Raspbian</em>: Once you have Raspbian installed, the byte-code <code>ocamlc</code> compiler will work, but the <code>ocamlopt</code> native code compiler doesnt work out of the box.
This is due to differences in the ARMv6 and ARMv7 instruction setsa
.The Raspbian distribution uses a calling convention called <code>VFPE2</code> to handle floating point, and OCaml doesn't recognise it by default.</p>
<p>Luckily, the issue has been <a href="https://github.com/ocaml/ocaml/commit/a4253570ff0fcfcf25e145d68e02e198915503fb">fixed</a> upstream in the OCaml compiler, and will appear in version <code>4.00.2</code>.
Meanwhile, you can download precompiled debs with this patch by adding the following to <code>/etc/apt/sources.list</code>:</p>
<pre><code>deb http://www.cl.cam.ac.uk/~lpw25/ocaml-rpi/ wheezy main
deb-src http://www.cl.cam.ac.uk/~lpw25/ocaml-rpi/ wheezy main</code></pre>

<p>Alternatively, you can also use <a href="http://opam.ocamlpro.com">OPAM</a> to compile a custom compiler (see the Jane Street blog post above for instructions on how to install OPAM):</p>
<pre><code>$ opam switch 4.00.1+raspberrypi
$ eval `opam config -env`</code></pre>

<p>This compiler should work on Raspbian with no issues.
Many thanks to <a href="http://psellos.com/ocaml/compile-to-iphone.html">Jeffery Scofield</a> for all this help with this patch!</p>

         <br /></div>
      
  </div></div>

<ul id="site-info"><li class="copy">&#169; 2012-2013 Anil Madhavapeddy<br />Information provided by <a href="mailto:avsm2@cl.cam.ac.uk">Anil Madhavapeddy</a></li></ul>
</div>
</body></html>